{% extends 'base.html.twig' %}

{% block title %}Nouvelle visite{% endblock %}

{% block body %}
<h1>Ajouter une nouvelle visite</h1>

<div class="card p-3 mt-3">
    {{ form_start(form) }}
        {{ form_row(form.pays) }}
        {{ form_row(form.lieu) }}
        {{ form_row(form.date) }}
        {{ form_row(form.heureDebut) }}
        {{ form_row(form.duree) }}
        {{ form_row(form.photo) }}
        {{ form_row(form.commentaire) }}
        {{ form_row(form.guide) }}

        {# Vérifie que l'entité est bien remplie avant d'accéder à getHeureFin() #}
        {% if visite.heureDebut is defined and visite.duree is defined and visite.heureDebut and visite.duree %}
            <div class="mt-3">
                <strong>Heure de fin estimée :</strong>
                {{ visite.heureFin.format('H:i') }}
            </div>
        {% endif %}

        <button class="btn btn-success mt-3">Créer</button>
    {{ form_end(form) }}
</div>

<a href="{{ path('visite_index') }}" class="btn btn-secondary mt-3">⬅ Retour à la liste</a>
{% endblock %}
